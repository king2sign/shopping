
在线地址:
    http://www.woshipm.com/pd/1055272.html               3个方面解析：电商订单系统设计 _ 人人都是产品经理
    https://cloud.tencent.com/developer/article/1372289  电商系统设计之订单 - 云+社区 - 腾讯云
    https://cloud.tencent.com/developer/article/1340904  电商系统设计之商品 (下) - 云+社区 - 腾讯云
    http://www.sohu.com/a/211471012_468650               电商系统之订单系统
    http://www.sohu.com/a/258275003_701814               订单系统：从0到1设计思路
    https://www.sohu.com/a/221185811_114819              电商后台：实例解读订单系统


思想总结1
        A：订单是一个唯一标识，一般按照某种规则特定生成，设计订单号的时候要考虑到订单号生成是一种肉眼是看不出规则的 (防止竞争者或者第三方来估算订单量)
        B：订单号后续用作订单唯一标识用于对接WMS(仓库管理系统)，TMS(物流系统)
        C：订单产生的商品信息，这里除了要记录最终的金额,金额阶段也要记录。比如商品的分摊的优惠券，支付总金额，实付金额等。
           后续的订单结算、退换货、财务等环节都需要使用
        D：订单生产环节存在超时未支付订单有自动取消的过程,这个过程中订单是占用库存数的,只有订单取消后释放
        E：传统电商则是通过关联第三方物流的物流信息进行跟踪。
        F：订单产生前要判断对应的商品是否报缺,如果出现报缺就要考虑怎么处理,换货或换转推(库存，仓促调拨和退款)
           注意：报缺情况分为系统报缺和实物报缺
        G：电商系统要考虑7天无理由退换货的情景，及时订单状态完成后申请退货，此时主要涉及的金额上的计算以及一些财务程序等问题


思想总结2：
        A：订单逆向流程 解释：是指订单被取消了
                取消的情况有几种：
                            1：用户自主取消订单
                            2：风控系统触发订单
                            3：客服接到客诉仲裁后出发取消订单
                            4：超时未支付取消订单
                            5：换货报缺转为退单(取消订单)

                关注：
                     1：订单状态(在某一个订单产生后设置了某一个状态节点之后订单无法取消)
                     2：当退单被商家拒绝后需要转入客服仲裁
                     3：部分退的订单一般保持享用状态,但金额按照分摊的金额退款


思想总结3：
        A：细想下设计订单的状态和存在的价值去分析和理解他背后设计机制

        B：正向和逆向流程状态
                正向订单：    已锁定、已确认、已付款、已发货、已结算、已完成、已取消等
                正向预售订单：预付款已付未确认、已确认未付尾款（变更）
                正向问题单：  未确认、未锁定、未发货、部分付款、未付款等
                逆向退单：    待结算、未收到货、未入库、质检不通过、部分收货、已取消、客户已收货等
                逆向换单：    完成、已结算、客服已收货等

        C：服务对象维度
                客户操作的状态：待付款、待发货、待收货、待评价、买家已付款、交易成功/失败、卖家已发货、退款成功、交易关闭、

                卖家操作的状态：已锁定、已确认、已分仓、已分配、已出库、已收货、已完成等、等待买家付款、待付款和待发货订单、退款中的订单、定金已付、买家已付款、
                               卖家已发货、交易成功、交易失败、异常订单

        D：订单告知：
                当状态发生变化时,某些变化后的状态是要推送给商家或卖家的
                    告知的对象：用户、商家、物流人员
                    告知的方式：push、短信、微信、支付宝
                    推送的节点：某些状态的改变后就告知

 思想总结4：
        需求思想设计
                A：实现购买流程
                        1：实现订单的创建、发货、确认信息闭环
                        2：支持订单审核（初期可支持人工审核即可）
                        3：支持用户端显示订单相关信息
                        4：支持促销金额计算

                B：提供服务
                        1：提供订单分布式服务
                        2：支持跨平台交易单生产(即同一个大交易单内既有商家商品又有自营商品或者是多个商家的商品）
                        3：支持拆单、合并逻辑(配送单、支付单等)
                        4：提供更丰富的订单推送服务，完善订单状态

                C：支持不同营销手段下的订单类型
                        1：平台发展到足够大的规模，提效、稳定变成一个重要的话题。可以提供不同营销场景下的订单，如：团购、预购等。